<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Daily Note - 2024-11-12 - Crosscut</title>
        <meta charSet="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="/crosscut/style.css" rel="stylesheet">
    </head>
    <body class="max-w-xl mx-auto p-2">
        <header><a href="/crosscut/"><h1>Crosscut</h1></a></header>
        <main>
            <h2>Daily Note - 2024-11-12</h2>
            <div class="m-4 p-4 rounded font-sm bg-slate-200">
                <p class="prose">
                    Hey, I'm Hanno! These are my daily notes on <a
                        href="https://github.com/hannobraun/crosscut"
                        class="text-blue-700 underline font-bold"
                    >Crosscut</a>, the programming language I'm creating. If you
                    have any questions, comments, or feedback, please <a
                        href="mailto:Hanno%20Braun%20%3Chello%40hannobraun.com%3E?subject=&body="
                        class="text-blue-700 underline font-bold"
                    >get in touch</a>!
                </p>
            </div>
            <div class="m-4 p-4 rounded font-sm bg-slate-200">
                <p>
                    This note was published <a
                        href="/crosscut/daily/2024-12-25"
                        class="text-blue-700 underline font-bold"
                    >
                        before Crosscut was called Crosscut</a>! If it refers to
                    "Caterpillar", that is the old name, just so you know.
                </p>
            </div>
            <div class="my-8">
                <nav>
                    <a
                        href="/crosscut/daily"
                        class="text-blue-700 underline font-bold"
                    >< back to list</a>
                </nav>
                <main class="prose">
                    <p>
                        Caterpillar programs are <a
                            href="/crosscut/daily/2024-07-02"
                            rel="noopener noreferrer"
                        >embedded into a host</a>, which provides
                        platform-specific capabilities. These capabilities take
                        the form of functions. The compiler can recognize that
                        an identifier refers to a host-provided function, and
                        compiles that into an instruction (the runtime is, as of
                        now, a bytecode interpreter) that triggers a special
                        "host" effect.
                    </p>
                    <p>
                        This effect returns control to the host, which can then
                        inspect the runtime's stack to figure out which function
                        is being called, and what its arguments are. It occurs
                        to me that this basically works like a classic system
                        call interface. Like what a regular userspace program
                        would use to talk to the operating system kernel.
                    </p>
                    <p>
                        I'm saying <em>classic</em> system call interface,
                        because there have been newer developments in this
                        field. On Linux, we have <a
                            href="https://en.wikipedia.org/wiki/Io_uring"
                            rel="noopener noreferrer"
                        >io_uring</a> now, which enables submitting system calls
                        in bulk, without copying, and in an asynchronous manner.
                        I wonder if this approach is applicable to Caterpillar's
                        host interface.
                    </p>
                </main>
                <nav class="grid grid-cols-2">
                    <span class="col-1 justify-self-start"><a
                            href="/crosscut/daily/2024-11-11"
                            class="text-blue-700 underline font-bold"
                        ><< previous note</a></span><span
                        class="col-2 justify-self-end"
                    ><a
                            href="/crosscut/daily/2024-11-13"
                            class="text-blue-700 underline font-bold"
                        >next note >></a></span>
                </nav>
            </div>
        </main>
        <hr class="w-1/2 mx-auto my-16">
        <footer class="max-w-fit mx-auto text-sm">
            <p class="max-w-fit mx-auto italic">A website by</p>
            <address>
                <div>
                    Hanno Braun<br>Untere Pfarrgasse 19<br>64720
                    Michelstadt<br>Germany<br>
                </div>
                <div class="my-4">
                    ðŸ“§ <a href="mailto:hello@hannobraun.com"
                    >hello@hannobraun.com</a>
                </div>
            </address>
        </footer>
    </body>
</html>
