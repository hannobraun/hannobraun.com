<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Daily Note - 2024-11-08 - Crosscut</title>
        <meta charSet="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="/crosscut/style.css" rel="stylesheet">
    </head>
    <body class="max-w-xl mx-auto p-2">
        <header><a href="/crosscut/"><h1>Crosscut</h1></a></header>
        <main>
            <h2>Daily Note - 2024-11-08</h2>
            <div class="m-4 p-4 rounded font-sm bg-slate-200">
                <p class="prose">
                    Hey, I'm Hanno! These are my daily notes on <a
                        href="https://github.com/hannobraun/crosscut"
                        class="text-blue-700 underline font-bold"
                    >Crosscut</a>, the programming language I'm creating. If you
                    have any questions, comments, or feedback, please <a
                        href="mailto:Hanno%20Braun%20%3Chello%40hannobraun.com%3E?subject=&body="
                        class="text-blue-700 underline font-bold"
                    >get in touch</a>!
                </p>
            </div>
            <div class="m-4 p-4 rounded font-sm bg-slate-200">
                <p>
                    This note was published <a
                        href="/crosscut/daily/2024-12-25"
                        class="text-blue-700 underline font-bold"
                    >
                        before Crosscut was called Crosscut</a>! If it refers to
                    "Caterpillar", that is the old name, just so you know.
                </p>
            </div>
            <div class="my-8">
                <nav>
                    <a
                        href="/crosscut/daily"
                        class="text-blue-700 underline font-bold"
                    >< back to list</a>
                </nav>
                <main class="prose">
                    <p>
                        So, I need to <a
                            href="/crosscut/daily/2024-11-07"
                            rel="noopener noreferrer"
                        >track the arity of every expression</a> at
                        compile-time. And doing so is complicated, because of
                        the <code>eval</code> intrinsic, which has an arity that
                        depends on the anonymous function it evaluates. I came
                        across this problem maybe a week or so ago (or was it 2,
                        maybe 3? I can no longer tell ðŸ˜‚).
                    </p>
                    <p>
                        The core problem here is, that the <code>eval</code>
                        call not only needs to work where the anonymous function
                        is defined. You can also return the anonymous function
                        from where it was created, and then evaluate it
                        elsewhere. If all you do is track arity, you'll lose the
                        information that you need to assign an arity to the
                        <code>eval</code> call, leaving the system with holes.
                    </p>
                    <p>
                        So you need to track which of a function's return values
                        is an anonymous function. But since anonymous functions
                        can return other anonymous functions, it's also not
                        enough to just track the arity of those. At this point,
                        I think it becomes easier to forget about arity,
                        properly define what a type is, and track which types
                        every expression consumes and produces. That's a static
                        type system.
                    </p>
                </main>
                <nav class="grid grid-cols-2">
                    <span class="col-1 justify-self-start"><a
                            href="/crosscut/daily/2024-11-07"
                            class="text-blue-700 underline font-bold"
                        ><< previous note</a></span><span
                        class="col-2 justify-self-end"
                    ><a
                            href="/crosscut/daily/2024-11-09"
                            class="text-blue-700 underline font-bold"
                        >next note >></a></span>
                </nav>
            </div>
        </main>
        <hr class="w-1/2 mx-auto my-16">
        <footer class="max-w-fit mx-auto text-sm">
            <p class="max-w-fit mx-auto italic">A website by</p>
            <address>
                <div>
                    Hanno Braun<br>Untere Pfarrgasse 19<br>64720
                    Michelstadt<br>Germany<br>
                </div>
                <div class="my-4">
                    ðŸ“§ <a href="mailto:hello@hannobraun.com"
                    >hello@hannobraun.com</a>
                </div>
            </address>
        </footer>
    </body>
</html>
