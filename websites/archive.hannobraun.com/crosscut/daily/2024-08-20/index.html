<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Daily Note - 2024-08-20 - Crosscut</title>
        <meta charSet="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="/crosscut/style.css" rel="stylesheet">
    </head>
    <body class="max-w-xl mx-auto p-2">
        <header><a href="/crosscut/"><h1>Crosscut</h1></a></header>
        <main>
            <h2>Daily Note - 2024-08-20</h2>
            <div class="m-4 p-4 rounded font-sm bg-slate-200">
                <p class="prose">
                    Hey, I'm Hanno! These are my daily notes on <a
                        href="https://github.com/hannobraun/crosscut"
                        class="text-blue-700 underline font-bold"
                    >Crosscut</a>, the programming language I'm creating. If you
                    have any questions, comments, or feedback, please <a
                        href="mailto:Hanno%20Braun%20%3Chello%40hannobraun.com%3E?subject=&body="
                        class="text-blue-700 underline font-bold"
                    >get in touch</a>!
                </p>
            </div>
            <div class="m-4 p-4 rounded font-sm bg-slate-200">
                <p>
                    This note was published <a
                        href="/crosscut/daily/2024-12-25"
                        class="text-blue-700 underline font-bold"
                    >
                        before Crosscut was called Crosscut</a>! If it refers to
                    "Caterpillar", that is the old name, just so you know.
                </p>
            </div>
            <div class="my-8">
                <nav>
                    <a
                        href="/crosscut/daily"
                        class="text-blue-700 underline font-bold"
                    >< back to list</a>
                </nav>
                <main class="prose">
                    <p>
                        The other day, I presented
                        <a
                            href="/crosscut/daily/2024-08-18"
                            rel="noopener noreferrer"
                        >how common conditional constructs can map to
                            pattern-matching functions</a>. But there's more to
                        control flow! Today, let's look at iteration, starting
                        with a simple <code>loop</code> in Rust:
                    </p>
                    <pre>
<code>loop {
    do_this_forever();
}</code></pre>
                    <p>In Caterpillar, this could look like this:</p>
                    <pre>
<code>{
    || do_this_forever recur
}
    eval</code></pre>
                    <p>
                        Here we define an anonymous function that just calls
                        itself forever. (<code>recur</code>
                        doesn't exist in the language right now. It would call
                        the current function recursively, without having to name
                        it. This is not possible yet for anonymous functions,
                        but named ones could just call themselves by name
                        instead.)
                    </p>
                    <p>A slightly more complex loop:</p>
                    <pre>
<code>let mut i = 0;
while i &lt; 10 {
    do_the_thing();
    i += 1;
}</code></pre>
                    <p>And the Caterpillar version:</p>
                    <pre>
<code>0
{
    |10|
        # we're done

    |n|
        do_the_thing
        n 1 + recur
}
    eval</code></pre>
                    <p>
                        As with conditionals, I expect that Caterpillar will
                        have more convenient constructs built on top of this, as
                        syntax sugar. (And with Caterpillar being a functional
                        language, I expect those to be of the <code>map</code>,
                        <code>filter</code>, and <code>fold</code>
                        variety, rather than the more imperative loops I've
                        shown here. But the point was to demonstrate how simple
                        loops can map to pattern-matching functions.)
                    </p>
                </main>
                <nav class="grid grid-cols-2">
                    <span class="col-1 justify-self-start"><a
                            href="/crosscut/daily/2024-08-19"
                            class="text-blue-700 underline font-bold"
                        ><< previous note</a></span><span
                        class="col-2 justify-self-end"
                    ><a
                            href="/crosscut/daily/2024-08-21"
                            class="text-blue-700 underline font-bold"
                        >next note >></a></span>
                </nav>
            </div>
        </main>
        <hr class="w-1/2 mx-auto my-16">
        <footer class="max-w-fit mx-auto text-sm">
            <p class="max-w-fit mx-auto italic">A website by</p>
            <address>
                <div>
                    Hanno Braun<br>Untere Pfarrgasse 19<br>64720
                    Michelstadt<br>Germany<br>
                </div>
                <div class="my-4">
                    ðŸ“§ <a href="mailto:hello@hannobraun.com"
                    >hello@hannobraun.com</a>
                </div>
            </address>
        </footer>
    </body>
</html>
